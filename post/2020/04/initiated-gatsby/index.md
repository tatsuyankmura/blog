---
title: 【社内勉強会】コーダーのためのGatsbyJSで学ぶ静的サイトジェネレータ入門（前編）
date: '2020-04-28'
description: SSGを使うと複雑なことが簡単になりサイトも爆速になるよってお話。
tags: ['JavaScript', 'Gatsby', '社内勉強会']
---

社内から GatsbyJS に触れてみたいという声があったのですが、Gatsby に触れる前に「静的サイトジェネレーターとは？」、「Gatsby を使うとこれまでの HTML&CSS&JS を使った制作はどう違うのか？」を知っておいた方がいいと思いまとめてみました。

対象読者は HTML&CSS（scss）&JS(jQuery)などで静的なサイト・WordPress のサイトを構築しているフロントエンドエンジニアおよびコーダーです。

座学の前編と手を動かす後編に分けてまとめます。

## 静的サイトジェネレーター（SSG）is 何？

Web ページを高速にクライアントに提供することを目的とし、各種データから html ファイルを作成してくれるシステムです。

ビルド時に DB からデータを取得し、データの数だけ html ファイルを作成します。そのためサイト閲覧時、html を返すだけになるのでサイトが高速化します。

また、Web サーバーのみで運用できるようになるので費用面でもメリットがあるのと、閲覧時 DB アクセスがなくなるのでセキュアにもなります。

## SSG の種類

[StaticGen | Top Open Source Static Site Generators](https://www.staticgen.com/)

今回は GatsbyJS で話を進めます。

## GatsbyJS について

### GatsbyJS is 何？

React 製の SSG。SPA で画面遷移です。

Graph QL を使用して、CSM やローカルのマークダウンからデータを取得します。

このブログも GatsbyJS で構築されています。

### HTML&CSS&JS の作り方とはどう変わるの？

個人的には以下の 3 つかと思っています。

#### いろんな設定が楽

Web サイトを作成するとき環境構築やディレクトリ設計、SEO の設定、その他、CMS や AMP、PWA などのリッチな機能まで様々な対応が必要です。これらはある程度手動でやらなくてはいけません。

Gatsby はフレームワークであり、スターターキットやプラグインが用意されているので上記の設定を簡単に行うことができます。

[Starter Library | GatsbyJS](https://www.gatsbyjs.org/starters/?v=2)

[Plugins | GatsbyJS](https://www.gatsbyjs.org/plugins/)

#### CSS 設計がいらなくなる（かも・・）

カスケードシステムの残念なところは全てがグローバルなところだと思います。これにより予期せぬ汚染が始まり、気がつかないところでスタイルが崩れていたって経験はだれでもあるでしょう。

そのような汚染を防ぐために Bem や flocss などの CSS 設計で擬似的なスコープの概念を導入するようになりましたが、むなしくも設計が破綻し、結局汚染が始まることは珍しくありません。

Gatsby を使い `styled-component` という CSS in JS のパッケージを使えば、component ごとのスコープが実現できるので、複雑な CSS 設計がいらなくなります。

#### コンポーネント指向 UI

CSS 設計はいらなくなるかもしれませんが、今度はコンポーネント設計が登場します。

コンポーネントは HTML/CSS/JS がセットに感じのもの、コンポーネント指向は、デザインをパーツごとに分割し、必要に応じて組み合わせて UI を作っていく方法です。

Gatsby のベースは React なので、コンポーネント指向で画面を作っていくことが多くなるでしょう。Atomic Design などのコンポーネント設計手法を取り入れていくことになるかと思います。

（これはこれで悩みのタネにはなります・・）

## 後編へ・・

後編はブログの作り方をまとめる予定です。
